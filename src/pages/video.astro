---
import Layout from '../layouts/Layout.astro';
import PageTransition from '../components/PageTransition.svelte';
import { getCollection } from 'astro:content';

const videos = await getCollection('videos');
const sortedVideos = videos.sort((a, b) => b.data.date.getTime() - a.data.date.getTime());
---

<Layout title="Înregistrări Video - Aurelian Epuraș">
	<PageTransition client:load>
	<section class="py-20 bg-gradient-to-br from-ivory to-crem dark:bg-dark-primary">
		<div class="container mx-auto px-4">
			<div class="max-w-7xl mx-auto">
				<h1 class="font-serif text-5xl md:text-6xl font-bold mb-6 text-text-primary-light dark:text-text-primary-dark">
					Înregistrări video
				</h1>
				<div class="w-24 h-1 bg-text-primary-light dark:bg-text-primary-dark mb-8"></div>
				<p class="text-lg text-text-secondary-light dark:text-text-secondary-dark mb-12 max-w-3xl">
					Performanțe live, interviuri și momente speciale surprinse pe video. Fiecare înregistrare este o fereastră către lumea muzicii și artei.
				</p>

				<div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
					{sortedVideos.map((video) => (
						<div class="group">
							<div class="relative aspect-video rounded-2xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 bg-crem dark:bg-dark-secondary">
								<iframe
									src={`https://www.youtube.com/embed/${video.data.youtubeId}`}
									title={video.data.title}
									frameborder="0"
									allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
									allowfullscreen
									class="absolute inset-0 w-full h-full"
								></iframe>
							</div>
							<div class="mt-4">
								<h3 class="font-serif text-xl font-semibold text-text-primary-light dark:text-text-primary-dark mb-2">
									{video.data.title}
								</h3>
								{video.data.description && (
									<p class="text-text-secondary-light dark:text-text-secondary-dark text-sm">
										{video.data.description}
									</p>
								)}
							</div>
						</div>
					))}
				</div>
			</div>
		</div>
	</section>
	</PageTransition>
</Layout>
